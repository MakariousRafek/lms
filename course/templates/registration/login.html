{% extends 'course/base.html' %}

{% block title %}ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ - Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ Ø¨Ù†Ø§Øª{% endblock %}

{% block content %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<style>
    body {
        background: linear-gradient(120deg, #fff0f3 0%, #fce4ec 100%);
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0;
    }
    .login-card {
        border-radius: 30px;
        border: none;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        box-shadow: 0 15px 35px rgba(194, 24, 91, 0.15);
        padding: 40px;
        width: 100%;
        max-width: 450px;
        animation: fadeIn 0.8s ease-in-out;
    }
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
    .login-header { text-align: center; margin-bottom: 30px; }
    .login-header h2 { color: #c2185b; font-weight: bold; margin-top: 15px; }

    .form-control {
        border-radius: 15px;
        padding: 12px 20px;
        border: 1px solid #f8bbd0;
        margin-bottom: 5px;
        text-align: right;
    }
    .form-control:focus {
        border-color: #c2185b;
        box-shadow: 0 0 0 0.25rem rgba(194, 24, 91, 0.1);
    }
    .btn-login {
        background: linear-gradient(135deg, #c2185b 0%, #f06292 100%);
        color: white;
        border: none;
        border-radius: 15px;
        padding: 12px;
        width: 100%;
        font-weight: bold;
        font-size: 1.1rem;
        transition: 0.3s;
        margin-top: 10px;
    }
    .btn-login:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(194, 24, 91, 0.3);
        color: white;
    }

    /* Ø³ØªØ§ÙŠÙ„ Ø§Ù„Ù€ Popup ÙˆØ§Ù„ÙˆØ§ØªØ³Ø§Ø¨ */
    .modal-overlay {
        display: none;
        position: fixed;
        top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 1000;
        justify-content: center; align-items: center;
    }
    .modal-box {
        background: white; padding: 30px; border-radius: 25px;
        width: 320px; text-align: center;
        box-shadow: 0 15px 35px rgba(0,0,0,0.2);
    }
    .btn-whatsapp {
        display: inline-flex; align-items: center; justify-content: center;
        background-color: #25d366; color: white; text-decoration: none;
        padding: 12px 25px; border-radius: 50px; font-weight: bold;
        margin-top: 15px; transition: 0.3s; gap: 10px;
    }
    .btn-whatsapp:hover { background-color: #128c7e; transform: translateY(-2px); color: white; }

    .footer-text {
        text-align: center;
        margin-top: 25px;
        color: #880e4f;
        font-size: 0.9rem;
        padding: 15px;
        background: #fdf2f5;
        border-radius: 15px;
        line-height: 1.6;
    }
    .btn-signup-outline {
        color: #c2185b; text-decoration: none; font-weight: bold;
        border: 2px solid #c2185b; padding: 8px 20px;
        border-radius: 20px; display: inline-block; transition: 0.3s;
    }
    .btn-signup-outline:hover { background-color: #c2185b; color: white; }
</style>

<div class="login-card">
    <div class="login-header">
        <div style="font-size: 4rem;">ğŸŒ¸</div>
        <h2>Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ Ø¨Ù†Ø§Øª</h2>
        <p class="text-muted">Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙŠÙƒÙŠ ÙÙŠ Ù…Ù†ØµØ© ÙƒÙ†ÙŠØ³Ø© Ø§Ù„Ø£Ù†Ø¨Ø§ Ø£Ù†Ø·ÙˆÙ†ÙŠÙˆØ³ âœ¨</p>
    </div>

    <form method="POST" action="{% url 'login' %}">
        {% csrf_token %}

        {% if error %}
        <div class="alert alert-danger text-center shadow-sm mb-4"
             style="border-radius: 15px; border: none; background-color: #ffebee; color: #c62828; font-size: 0.9rem;">
            {{ error }}
        </div>
        {% endif %}

        <div class="mb-3">
            <label class="form-label fw-bold" style="color: #c2185b; display: block; text-align: right; margin-right: 10px;">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
            <input type="text" name="username" class="form-control" placeholder="Ø§ÙƒØªØ¨ÙŠ Ø§Ø³Ù…Ùƒ Ù‡Ù†Ø§.." required>
        </div>

        <div class="mb-4">
            <label class="form-label fw-bold" style="color: #c2185b; display: block; text-align: right; margin-right: 10px;">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
            <input type="password" name="password" class="form-control" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
        </div>

        <button type="submit" class="btn btn-login shadow">Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù…Ù†ØµØ© âœ¨</button>
    </form>

    <div class="text-center mt-3">
        <a href="#" onclick="showPopup()" style="color: #c2185b; font-size: 0.85rem; text-decoration: none; font-weight: bold;">
            Ù†Ø³ÙŠØªÙŠ Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯ØŸ
        </a>
    </div>

    <div class="footer-text">
        <p style="font-size: 0.85rem; color: #666; margin-bottom: 10px;">Ø£Ùˆ Ù„Ùˆ Ø­Ø§Ø¨Ø© ØªØ¹Ù…Ù„ÙŠ Ø­Ø³Ø§Ø¨ Ø¨Ù†ÙØ³Ùƒ:</p>
        <a href="{% url 'signup' %}" class="btn-signup-outline">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯ ğŸ€</a>
    </div>
</div>

<div id="popupOverlay" class="modal-overlay" onclick="hidePopup()">
    <div class="modal-box" onclick="event.stopPropagation()">
        <div style="font-size: 40px; margin-bottom: 10px;">ğŸ§</div>
        <h4 style="color: #c2185b; font-weight: bold;">Ù†Ø³ÙŠØªÙŠ Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯ØŸ</h4>
        <p style="font-size: 14px; color: #666;">Ø§ØªÙˆØ§ØµÙ„ÙŠ Ù…Ø¹ ØªØ§Ø³ÙˆÙ†ÙŠ Ø±Ø§Ø±Ø§ âœ¨</p>

        <a href="https://wa.me/201287814422?text=Ø§Ø²ÙŠÙƒ%20ÙŠØ§%20ØªØ§Ø³ÙˆÙ†ÙŠ..%20Ø£Ù†Ø§%20Ù†Ø³ÙŠØª%20Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯%20Ø¨ØªØ§Ø¹ØªÙŠ"
           target="_blank" class="btn-whatsapp">
            <i class="fab fa-whatsapp" style="font-size: 20px;"></i> ÙƒÙ„Ù…ÙŠ ØªØ§Ø³ÙˆÙ†ÙŠ Ø±Ø§Ø±Ø§
        </a>
        <p style="margin-top: 15px; font-size: 12px; color: #aaa; cursor: pointer;" onclick="hidePopup()">Ø¥ØºÙ„Ø§Ù‚</p>
    </div>
</div>

<script>
    function showPopup() { document.getElementById('popupOverlay').style.display = 'flex'; }
    function hidePopup() { document.getElementById('popupOverlay').style.display = 'none'; }
</script>
{% endblock %}