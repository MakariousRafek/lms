{% extends 'course/base.html' %}
{% block content %}
<style>
    .pink-banner { background: linear-gradient(135deg, #c2185b, #f06292); color: white; border-radius: 25px; padding: 40px; margin-bottom: 30px; }
    .stat-box { background: white; border-radius: 20px; padding: 25px; text-align: center; border: 2px solid var(--soft-pink); }
    .stat-box h2 { color: var(--primary-rose); font-weight: bold; }
    .lesson-card { transition: 0.3s; cursor: pointer; text-decoration: none; display: block; }
    .lesson-card:hover { transform: translateY(-10px); }
</style>

<div class="pink-banner d-flex justify-content-between align-items-center">
    <div>
        <h1>Ø¥Ø²ÙŠÙƒ ÙŠØ§ {{ request.user.username }} ğŸ€</h1>
        <p class="fs-5 mb-0">Ù…Ø³ØªØ¹Ø¯Ø© ØªØ¬Ù…Ø¹ÙŠ Ù†Ù‚Ø· ÙˆØªÙƒÙˆÙ†ÙŠ Ù…Ù† Ø§Ù„Ø£ÙˆØ§Ø¦Ù„ØŸ âœ¨</p>
    </div>
    <form action="{% url 'logout' %}" method="post">{% csrf_token %}<button class="btn btn-light" style="border-radius: 12px; color: var(--primary-rose);">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button></form>
</div>

<div class="row mb-4">
    <div class="col-md-6 mb-3">
        <div class="stat-box">
            <h5 class="text-muted">ğŸŒ· Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ù†Ù‚Ø§Ø·Ùƒ</h5>
            <h2>{{ my_score }} Ù†Ù‚Ø·Ø©</h2>
        </div>
    </div>
    <div class="col-md-6 mb-3">
        <div class="stat-box">
            <h5 class="text-muted">ğŸ‘‘ ØªØ±ØªÙŠØ¨Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ</h5>
            <h2>Ø§Ù„Ù…Ø±ÙƒØ² {{ my_rank }}</h2>
        </div>
    </div>
</div>

<h3 class="mb-4" style="color: var(--primary-rose);">ğŸ¯ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© Ù„ÙŠÙƒÙ</h3>
<div class="row">
    {% for lesson in lessons %}
    <div class="col-md-4 mb-4">
        <a href="{% url 'lesson_detail' lesson.id %}" class="lesson-card">
            <div class="card p-0 text-center">
                <div style="background: var(--soft-pink); padding: 30px; font-size: 3.5rem;">ğŸ</div>
                <div class="p-3">
                    <h4 style="color: var(--primary-rose);">{{ lesson.title }}</h4>
                    <span class="btn btn-custom btn-sm">Ø§Ø¨Ø¯Ø£ÙŠ Ø§Ù„Ø¢Ù† ğŸš€</span>
                </div>
            </div>
        </a>
    </div>
    {% endfor %}
</div>
{% endblock %}